"use strict";(self.webpackChunkgenome_token_exchange=self.webpackChunkgenome_token_exchange||[]).push([[301],{2272:(B,L,d)=>{d.d(L,{AV:()=>W,ConfigCtrl:()=>v,ExplorerCtrl:()=>X,OptionsCtrl:()=>u,ThemeCtrl:()=>oe,ToastCtrl:()=>re,jb:()=>Y,uA:()=>U,zv:()=>r});var c=d(5861),o=d(4688);const i=(0,o.sj)({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),W={state:i,subscribe:e=>(0,o.Ld)(i,()=>e(i)),push(e,t){e!==i.view&&(i.view=e,t&&(i.data=t),i.history.push(e))},reset(e){i.view=e,i.history=[e]},replace(e){i.history.length>1&&(i.history[i.history.length-1]=e,i.view=e)},goBack(){if(i.history.length>1){i.history.pop();const[e]=i.history.slice(-1);i.view=e}},setData(e){i.data=e}},r={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&!(!window.matchMedia("(pointer:coarse)").matches&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>r.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return r.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,formatNativeUrl(e,t,s){if(r.isHttpUrl(e))return this.formatUniversalUrl(e,t,s);let n=e;return n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,s),`${n}wc?uri=${encodeURIComponent(t)}`},formatUniversalUrl(e,t,s){if(!r.isHttpUrl(e))return this.formatNativeUrl(e,t,s);let n=e;return n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,s),`${n}wc?uri=${encodeURIComponent(t)}`},wait:e=>(0,c.Z)(function*(){return new Promise(t=>{setTimeout(t,e)})})(),openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(r.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(r.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(r.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(r.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=null==(e=W.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},V=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),a=(0,o.sj)({enabled:V,userSessionId:"",events:[],connectedWalletId:void 0}),U={state:a,subscribe:e=>(0,o.Ld)(a.events,()=>e((0,o.CO)(a.events[a.events.length-1]))),initialize(){a.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(a.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){a.connectedWalletId=e},click(e){if(a.enabled){const t={type:"CLICK",name:e.name,userSessionId:a.userSessionId,timestamp:Date.now(),data:e};a.events.push(t)}},track(e){if(a.enabled){const t={type:"TRACK",name:e.name,userSessionId:a.userSessionId,timestamp:Date.now(),data:e};a.events.push(t)}},view(e){if(a.enabled){const t={type:"VIEW",name:e.name,userSessionId:a.userSessionId,timestamp:Date.now(),data:e};a.events.push(t)}}},m=(0,o.sj)({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),u={state:m,subscribe:e=>(0,o.Ld)(m,()=>e(m)),setChains(e){m.chains=e},setWalletConnectUri(e){m.walletConnectUri=e},setIsCustomDesktop(e){m.isCustomDesktop=e},setIsCustomMobile(e){m.isCustomMobile=e},setIsDataLoaded(e){m.isDataLoaded=e},setIsUiLoaded(e){m.isUiLoaded=e},setIsAuth(e){m.isAuth=e}},E=(0,o.sj)({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),v={state:E,subscribe:e=>(0,o.Ld)(E,()=>e(E)),setConfig(e){var t,s;U.initialize(),u.setChains(e.chains),u.setIsAuth(!!e.enableAuthMode),u.setIsCustomMobile(!(null==(t=e.mobileWallets)||!t.length)),u.setIsCustomDesktop(!(null==(s=e.desktopWallets)||!s.length)),r.setModalVersionInStorage(),Object.assign(E,e)}};var K=Object.defineProperty,D=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,k=(e,t,s)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,z=(e,t)=>{for(var s in t||(t={}))Z.call(t,s)&&k(e,s,t[s]);if(D)for(var s of D(t))H.call(t,s)&&k(e,s,t[s]);return e};const _="https://explorer-api.walletconnect.com",A="wcm",j="js-2.6.2";function O(e,t){return M.apply(this,arguments)}function M(){return(M=(0,c.Z)(function*(e,t){const s=z({sdkType:A,sdkVersion:j},t),n=new URL(e,_);return n.searchParams.append("projectId",v.state.projectId),Object.entries(s).forEach(([l,p])=>{p&&n.searchParams.append(l,String(p))}),(yield fetch(n)).json()})).apply(this,arguments)}const h_getDesktopListings=e=>(0,c.Z)(function*(){return O("/w3m/v1/getDesktopListings",e)})(),h_getMobileListings=e=>(0,c.Z)(function*(){return O("/w3m/v1/getMobileListings",e)})(),h_getAllListings=e=>(0,c.Z)(function*(){return O("/w3m/v1/getAllListings",e)})(),h_getWalletImageUrl=e=>`${_}/w3m/v1/getWalletImage/${e}?projectId=${v.state.projectId}&sdkType=${A}&sdkVersion=${j}`,h_getAssetImageUrl=e=>`${_}/w3m/v1/getAssetImage/${e}?projectId=${v.state.projectId}&sdkType=${A}&sdkVersion=${j}`;var G=Object.defineProperty,T=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,P=(e,t,s)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;const N=r.isMobile(),g=(0,o.sj)({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),X={state:g,getRecomendedWallets:()=>(0,c.Z)(function*(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=v.state;if("NONE"===e||"ALL"===t&&!e)return g.recomendedWallets;if(r.isArray(e)){const s={recommendedIds:e.join(",")},{listings:n}=yield h_getAllListings(s),l=Object.values(n);l.sort((p,C)=>e.indexOf(p.id)-e.indexOf(C.id)),g.recomendedWallets=l}else{const{chains:s,isAuth:n}=u.state,l=s?.join(","),p=r.isArray(t),C={page:1,sdks:n?"auth_v1":void 0,entries:r.RECOMMENDED_WALLET_AMOUNT,chains:l,version:2,excludedIds:p?t.join(","):void 0},{listings:y}=N?yield h_getMobileListings(C):yield h_getDesktopListings(C);g.recomendedWallets=Object.values(y)}return g.recomendedWallets})(),getWallets:e=>(0,c.Z)(function*(){const t=((e,t)=>{for(var s in t||(t={}))J.call(t,s)&&P(e,s,t[s]);if(T)for(var s of T(t))F.call(t,s)&&P(e,s,t[s]);return e})({},e),{explorerRecommendedWalletIds:s,explorerExcludedWalletIds:n}=v.state,{recomendedWallets:l}=g;if("ALL"===n)return g.wallets;l.length?t.excludedIds=l.map(ie=>ie.id).join(","):r.isArray(s)&&(t.excludedIds=s.join(",")),r.isArray(n)&&(t.excludedIds=[t.excludedIds,n].filter(Boolean).join(",")),u.state.isAuth&&(t.sdks="auth_v1");const{page:p,search:C}=e,{listings:y,total:w}=N?yield h_getMobileListings(t):yield h_getDesktopListings(t),R=Object.values(y),$=C?"search":"wallets";return g[$]={listings:[...g[$].listings,...R],total:w,page:p??1},{listings:R,total:w}})(),getWalletImageUrl:e=>h_getWalletImageUrl(e),getAssetImageUrl:e=>h_getAssetImageUrl(e),resetSearch(){g.search={listings:[],total:0,page:1}}},I=(0,o.sj)({open:!1}),Y={state:I,subscribe:e=>(0,o.Ld)(I,()=>e(I)),open:e=>(0,c.Z)(function*(){return new Promise(t=>{const{isUiLoaded:s,isDataLoaded:n}=u.state;if(r.removeWalletConnectDeepLink(),u.setWalletConnectUri(e?.uri),u.setChains(e?.chains),W.reset("ConnectWallet"),s&&n)I.open=!0,t();else{const l=setInterval(()=>{const p=u.state;p.isUiLoaded&&p.isDataLoaded&&(clearInterval(l),I.open=!0,t())},200)}})})(),close(){I.open=!1}};var q=Object.defineProperty,S=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,x=(e,t,s)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;const f=(0,o.sj)({themeMode:function ne(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}()?"dark":"light"}),oe={state:f,subscribe:e=>(0,o.Ld)(f,()=>e(f)),setThemeConfig(e){const{themeMode:t,themeVariables:s}=e;t&&(f.themeMode=t),s&&(f.themeVariables=((e,t)=>{for(var s in t||(t={}))ee.call(t,s)&&x(e,s,t[s]);if(S)for(var s of S(t))te.call(t,s)&&x(e,s,t[s]);return e})({},s))}},b=(0,o.sj)({open:!1,message:"",variant:"success"}),re={state:b,subscribe:e=>(0,o.Ld)(b,()=>e(b)),openToast(e,t){b.open=!0,b.message=e,b.variant=t},closeToast(){b.open=!1}}},3301:(B,L,d)=>{d.r(L),d.d(L,{WalletConnectModal:()=>i});var c=d(5861),o=d(2272);class i{constructor(r){this.openModal=o.jb.open,this.closeModal=o.jb.close,this.subscribeModal=o.jb.subscribe,this.setTheme=o.ThemeCtrl.setThemeConfig,o.ThemeCtrl.setThemeConfig(r),o.ConfigCtrl.setConfig(r),this.initUi()}initUi(){return(0,c.Z)(function*(){if(typeof window<"u"){yield d.e(293).then(d.bind(d,3293));const r=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",r),o.OptionsCtrl.setIsUiLoaded(!0)}})()}}}}]);